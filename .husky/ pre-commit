#!/bin/sh
# Pre-commit hook com cargo-husky

echo "ğŸš€ Rodando cargo fmt..."
if ! cargo fmt -- --check 1>&2; then
    echo "âŒ CÃ³digo nÃ£o estÃ¡ formatado. Rode 'cargo fmt' antes de commitar."
    exit 1
fi

echo "ğŸ”§ Rodando cargo build..."
if ! cargo build 1>&2; then
    echo "âŒ Build falhou. Corrija os erros antes de commitar."
    exit 1
fi

echo "ğŸ§ª Rodando cargo test..."
if ! cargo test --quiet 1>&2; then
    echo "âŒ Alguns testes falharam. Corrija os testes antes de commitar."
    exit 1
fi

echo "âœ… Todos os checks passaram. Pode commitar!"
